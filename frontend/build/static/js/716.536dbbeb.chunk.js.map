{"version":3,"file":"static/js/716.536dbbeb.chunk.js","mappings":"+NA2FA,UA/Ec,WACV,IACgBA,GACZC,EAAAA,EAAAA,YAAWC,EAAAA,GADXC,SAAYH,QAERI,GAAUH,EAAAA,EAAAA,YAAWI,EAAAA,GAArBD,MACFE,GAAWC,EAAAA,EAAAA,MACjB,GAA8CC,EAAAA,EAAAA,GAASC,EAAAA,IAA/CC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAAOC,EAArB,EAAqBA,SAAUC,EAA/B,EAA+BA,WAC/B,GAAgCC,EAAAA,EAAAA,WAAS,GAAzC,eAAQC,EAAR,KAAiBC,EAAjB,KA2BA,OACI,UAAC,KAAD,CAAaC,SA3BG,SAACC,GACjBA,EAAEC,iBACFH,GAAW,GAEXI,MAAM,GAAD,OAAIpB,EAAJ,wBAAmC,CACpCqB,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUf,KAEpBgB,MAAK,SAACC,GAAD,OAAUA,EAAKC,MAAf,IACLF,MAAK,SAAChB,GACCA,EAAKmB,OACLzB,EACIM,EAAKA,KAAKoB,WACVpB,EAAKA,KAAKqB,UACVrB,EAAKmB,MACLnB,EAAKA,KAAKsB,IAEdhB,GAAW,GACXV,EAAS,MAEVM,EAASF,EAAKuB,QAEpB,GACR,EAGG,WACI,SAAC,KAAD,KACA,qBAASC,UAAU,iBAAnB,WACI,UAAC,KAAD,CAAcA,UAAU,qBAAxB,WACI,eAAIA,UAAU,aAAd,oBACA,kBAAOC,QAAQ,iBAAiBD,UAAU,OAA1C,iCAGA,kBACIE,KAAK,QACLJ,GAAG,iBACHK,KAAK,QACLC,YAAa,QACbC,SAAU1B,QAGlB,UAAC,KAAD,CAAcqB,UAAU,qBAAxB,WACI,kBAAOC,QAAQ,gBAAgBD,UAAU,OAAzC,qCAGA,kBACIE,KAAK,WACLJ,GAAG,gBACHK,KAAK,WACLC,YAAa,WACbC,SAAU1B,IAEXF,IAAS,iBAAMuB,UAAU,4BAAhB,SAA6CvB,KACzD,UAAC,KAAD,CACEyB,KAAK,SACLI,UAAW9B,EAAK+B,QACV/B,EAAKgC,UACN3B,EAJP,UAMKA,GAAoB,SAAC,KAAD,IAAV,QANf,QAOA,SAAC,KAAD,CAAM4B,GAAG,cAAcT,UAAU,eAAjC,kDAOnB,C","sources":["components/Views/Login/index.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport useInput from '../../../Hooks/useInput';\nimport { UserType } from '../../interfaces/interfaces';\nimport { useContext } from 'react';\nimport { useNavigate } from 'react-router';\nimport { ConfigContext } from '../../../Contexts/Config';\nimport { AuthContext } from '../../../Contexts/Auth';\nimport { LoginStyled, InputSection, ButtonStyle } from './style';\nimport { Link } from 'react-router-dom';\nimport { SideHeader, Spinner } from '../../UI/index';\nimport { defaultLoginData } from '../../UI/FormComponents/defaultData';\n\nconst Login = () => {\n    const {\n        api_urls: { backend }\n    } = useContext(ConfigContext);\n    const { login } = useContext(AuthContext);\n    const navigate = useNavigate();\n    const { data, error, setError, handleData } = useInput(defaultLoginData);\n    const [ loading, setLoading ] = useState(false)\n    const handleLogin = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        setLoading(true);\n\n        fetch(`${backend}/api/cienneffe/login`, {\n            method: 'POST',\n            headers: { 'Content-type': 'application/json' },\n            body: JSON.stringify(data)\n        })\n            .then((resp) => resp.json())\n            .then((data) => {\n                if (data.token) {\n                    login(\n                        data.data.first_name,\n                        data.data.last_name,\n                        data.token,\n                        data.data.id\n                    );\n                    setLoading(false);\n                    navigate('/');\n                } else {\n                   setError(data.message)\n                }\n            });\n    };\n\n    return (\n        <LoginStyled onSubmit={handleLogin}>\n            <SideHeader />\n            <section className=\"row-form mt-12\">\n                <InputSection className=\"mb-5 flex flex-col\">\n                    <h1 className='text-start'>Entra</h1>\n                    <label htmlFor=\"userEmailLogin\" className=\"mb-2\">\n                        Inserisci un Email\n                    </label>\n                    <input\n                        type=\"email\"\n                        id=\"userEmailLogin\"\n                        name=\"email\"\n                        placeholder={'Email'}\n                        onChange={handleData}\n                    />\n                </InputSection>\n                <InputSection className=\"mb-5 flex flex-col\">\n                    <label htmlFor=\"passwordLogin\" className=\"mb-2\">\n                        Inserisci una Password\n                    </label>\n                    <input\n                        type=\"password\"\n                        id=\"passwordLogin\"\n                        name=\"password\"\n                        placeholder={'Password'}\n                        onChange={handleData}\n                    />\n                      {error && <span className='text-red-600 py-1 text-sm'>{error}</span>}\n                    <ButtonStyle \n                      type=\"submit\" \n                      disabled={!data.email \n                        || !data.password \n                        || loading\n                      }\n                      >{!loading ? 'Entra' : <Spinner /> } </ButtonStyle>\n                    <Link to=\"/send_email\" className=\"pt-3 text-sm\">\n                        Hai dimenticato la password?\n                    </Link>\n                </InputSection>\n            </section>\n        </LoginStyled>\n    );\n};\n\nexport default Login;\n"],"names":["backend","useContext","ConfigContext","api_urls","login","AuthContext","navigate","useNavigate","useInput","defaultLoginData","data","error","setError","handleData","useState","loading","setLoading","onSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","resp","json","token","first_name","last_name","id","message","className","htmlFor","type","name","placeholder","onChange","disabled","email","password","to"],"sourceRoot":""}