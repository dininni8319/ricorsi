{"version":3,"file":"static/js/69.05c85ed6.chunk.js","mappings":"sNAyIA,UA9HiB,WACb,IAAMA,GAAWC,EAAAA,EAAAA,MAKjB,IADIC,EAAAA,EAAAA,YAAWC,EAAAA,GADXC,SAAYC,SAEaH,EAAAA,EAAAA,YAAWI,EAAAA,IAA1BC,GAAd,EAAQC,KAAR,EAAcD,OAEd,GAA6BE,EAAAA,EAAAA,GAASC,EAAAA,IAA9BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,WA2Cd,OACI,UAAC,KAAD,CAAaC,SA1CF,SAACC,GACZA,EAAEC,iBAEEJ,EAAKK,WAAaL,EAAKM,uBACvBC,MAAM,gBAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUZ,KAEpBa,MAAK,SAACC,GACH,GAAIA,EAAKC,GAGL,OAFA1B,EAAS,KAEFyB,EAAKE,OAEZC,MAAM,QAEb,IACAJ,MAAK,WACFN,MAAM,aAAc,CAChBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACjBM,MAAOlB,EAAKkB,MACZb,SAAUL,EAAKK,aAGlBQ,MAAK,SAACC,GAAD,OAAUA,EAAKE,MAAf,IACLH,MAAK,SAACb,GACHJ,EACII,EAAKA,KAAKmB,WACVnB,EAAKA,KAAKoB,UACVpB,EAAKqB,MACLrB,EAAKA,KAAKsB,IAEdjC,EAAS,IACZ,GACR,GAEZ,EAGkCkC,UAAU,cAAzC,WACI,SAAC,KAAD,KACA,qBAASA,UAAU,gBAAnB,WACI,UAAC,KAAD,CAAcA,UAAU,qBAAxB,WACI,wCACA,kBAAOA,UAAU,kBAAkBC,QAAQ,WAA3C,oCAGA,kBACIC,KAAK,OACLH,GAAG,WACHI,KAAK,aACLC,SAAU1B,QAGlB,UAAC,KAAD,CAAcsB,UAAU,qBAAxB,WACI,kBAAOA,UAAU,kBAAkBC,QAAQ,WAA3C,uCAGA,kBACIC,KAAK,OACLH,GAAG,WACHI,KAAK,YACLC,SAAU1B,QAGlB,UAAC,KAAD,CAAcsB,UAAU,qBAAxB,WACI,kBAAOA,UAAU,kBAAkBC,QAAQ,WAA3C,iCAGA,kBACIC,KAAK,QACLH,GAAG,WACHI,KAAK,QACLC,SAAU1B,QAGlB,UAAC,KAAD,CAAcsB,UAAU,qBAAxB,WACI,kBACIA,UAAU,6BACVC,QAAQ,eAFZ,2CAMA,kBACIC,KAAK,WACLH,GAAG,eACHK,SAAU1B,EACVyB,KAAK,iBAGb,UAAC,KAAD,CAAcH,UAAU,gBAAxB,WACI,kBACIA,UAAU,kBACVC,QAAQ,sBAFZ,mCAMA,kBACIC,KAAK,WACLC,KAAK,wBACLJ,GAAG,sBACHK,SAAU1B,KAEd,SAAC,KAAD,CAAawB,KAAK,SAAlB,yBACA,SAAC,KAAD,CAAMG,GAAG,SAASL,UAAU,eAA5B,4CAOnB,C","sources":["components/Views/Register/index.tsx"],"sourcesContent":["import { useContext } from 'react';\nimport { useNavigate } from 'react-router';\nimport { ConfigContext } from '../../../Contexts/Config';\nimport { AuthContext } from '../../../Contexts/Auth';\nimport { LoginStyled, ButtonStyle } from '../Login/style';\nimport { InputSection } from '../Login/style';\nimport { Link } from 'react-router-dom';\nimport { SideHeader } from './../../UI/index';\nimport useInput from '../../../Hooks/useInput';\nimport { defaultRegisterData } from '../../UI/FormComponents/defaultData';\n\nconst Register = () => {\n    const navigate = useNavigate();\n\n    const {\n        api_urls: { backend }\n    } = useContext(ConfigContext);\n    const { user, login }: any = useContext(AuthContext);\n\n    const { data, handleData } = useInput(defaultRegisterData);\n\n    const SignUp = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n\n        if (data.password === data.password_confirmation) {\n            fetch(`/api/register`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(data)\n            })\n                .then((resp) => {\n                    if (resp.ok) {\n                        navigate('/');\n\n                        return resp.json();\n                    } else {\n                        alert('error');\n                    }\n                })\n                .then(() => {\n                    fetch(`/api/login`, {\n                        method: 'POST',\n                        headers: { 'Content-Type': 'application/json' },\n                        body: JSON.stringify({\n                            email: data.email,\n                            password: data.password\n                        })\n                    })\n                        .then((resp) => resp.json())\n                        .then((data) => {\n                            login(\n                                data.data.first_name,\n                                data.data.last_name,\n                                data.token,\n                                data.data.id\n                            );\n                            navigate('/');\n                        });\n                });\n        }\n    };\n\n    return (\n        <LoginStyled onSubmit={SignUp} className=\"form-custom\">\n            <SideHeader />\n            <section className=\"row-form mt-5\">\n                <InputSection className=\"mb-3 flex flex-col\">\n                    <h1>Registrati</h1>\n                    <label className=\"form-label mb-2\" htmlFor=\"userName\">\n                        Inserisci il tuo nome\n                    </label>\n                    <input\n                        type=\"text\"\n                        id=\"userName\"\n                        name=\"first_name\"\n                        onChange={handleData}\n                    />\n                </InputSection>\n                <InputSection className=\"mb-3 flex flex-col\">\n                    <label className=\"form-label mb-2\" htmlFor=\"userName\">\n                        Inserisci il tuo Cognome\n                    </label>\n                    <input\n                        type=\"text\"\n                        id=\"userName\"\n                        name=\"last_name\"\n                        onChange={handleData}\n                    />\n                </InputSection>\n                <InputSection className=\"mb-3 flex flex-col\">\n                    <label className=\"form-label mb-2\" htmlFor=\"userMail\">\n                        Inserisci un Email\n                    </label>\n                    <input\n                        type=\"email\"\n                        id=\"userMail\"\n                        name=\"email\"\n                        onChange={handleData}\n                    />\n                </InputSection>\n                <InputSection className=\"mb-5 flex flex-col\">\n                    <label\n                        className=\"form-label mb-2 font-light\"\n                        htmlFor=\"userPassword\"\n                    >\n                        Inserisci una nuova Password\n                    </label>\n                    <input\n                        type=\"password\"\n                        id=\"userPassword\"\n                        onChange={handleData}\n                        name=\"password\"\n                    />\n                </InputSection>\n                <InputSection className=\"flex flex-col\">\n                    <label\n                        className=\"form-label mb-2\"\n                        htmlFor=\"userPasswordConfirm\"\n                    >\n                        Conferma la Password\n                    </label>\n                    <input\n                        type=\"password\"\n                        name=\"password_confirmation\"\n                        id=\"userPasswordConfirm\"\n                        onChange={handleData}\n                    />\n                    <ButtonStyle type=\"submit\">Registrati</ButtonStyle>\n                    <Link to=\"/login\" className=\"pt-3 text-sm\">\n                        Sei Registrato? Entra!\n                    </Link>\n                </InputSection>\n            </section>\n        </LoginStyled>\n    );\n};\n\nexport default Register;\n"],"names":["navigate","useNavigate","useContext","ConfigContext","api_urls","backend","AuthContext","login","user","useInput","defaultRegisterData","data","handleData","onSubmit","e","preventDefault","password","password_confirmation","fetch","method","headers","body","JSON","stringify","then","resp","ok","json","alert","email","first_name","last_name","token","id","className","htmlFor","type","name","onChange","to"],"sourceRoot":""}