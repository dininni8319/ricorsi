{"version":3,"file":"static/js/716.0a61e4dd.chunk.js","mappings":"sNAmFA,UAxEc,YAGNA,EAAAA,EAAAA,YAAWC,EAAAA,GADXC,SAAYC,QADhB,IAGQC,GAAUJ,EAAAA,EAAAA,YAAWK,EAAAA,GAArBD,MACFE,GAAWC,EAAAA,EAAAA,MACjB,GAA8CC,EAAAA,EAAAA,GAASC,EAAAA,IAA/CC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAAOC,EAArB,EAAqBA,SAAUC,EAA/B,EAA+BA,WA0B/B,OACI,UAAC,KAAD,CAAaC,SAzBG,SAACC,GACjBA,EAAEC,iBAEFC,MAAM,4CAA6C,CAC/CC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUZ,KAEpBa,MAAK,SAACC,GAAD,OAAUA,EAAKC,MAAf,IACLF,MAAK,SAACb,GACCA,EAAKgB,SACLtB,EACIM,EAAKA,KAAKiB,WACVjB,EAAKA,KAAKkB,UACVlB,EAAKmB,MACLnB,EAAKA,KAAKoB,IAEdxB,EAAS,MAEVM,EAASF,EAAKqB,QAEpB,GACR,EAGG,WACI,SAAC,KAAD,KACA,qBAASC,UAAU,iBAAnB,WACI,UAAC,KAAD,CAAcA,UAAU,qBAAxB,WACI,mCACA,kBAAOC,QAAQ,iBAAiBD,UAAU,OAA1C,iCAGA,kBACIE,KAAK,QACLJ,GAAG,iBACHK,KAAK,QACLC,SAAUvB,QAGlB,UAAC,KAAD,CAAcmB,UAAU,qBAAxB,WACI,kBAAOC,QAAQ,gBAAgBD,UAAU,OAAzC,qCAGA,kBACIE,KAAK,WACLJ,GAAG,gBACHK,KAAK,WACLC,SAAUvB,IAEXF,IAAS,iBAAMqB,UAAU,4BAAhB,SAA6CrB,KACzD,SAAC,KAAD,CACEuB,KAAK,SACLG,UAAW3B,EAAK4B,QAAU5B,EAAK6B,SAFjC,oBAIA,SAAC,KAAD,CAAMC,GAAG,cAAcR,UAAU,eAAjC,kDAOnB,C","sources":["components/Views/Login/index.tsx"],"sourcesContent":["import useInput from '../../../Hooks/useInput';\nimport { UserType } from '../../interfaces/interfaces';\nimport { useContext } from 'react';\nimport { useNavigate } from 'react-router';\nimport { ConfigContext } from '../../../Contexts/Config';\nimport { AuthContext } from '../../../Contexts/Auth';\nimport { LoginStyled, InputSection, ButtonStyle } from './style';\nimport { Link } from 'react-router-dom';\nimport { SideHeader } from '../../UI/index';\nimport { defaultLoginData } from '../../UI/FormComponents/defaultData';\n\nconst Login = () => {\n    const {\n        api_urls: { backend }\n    } = useContext(ConfigContext);\n    const { login } = useContext(AuthContext);\n    const navigate = useNavigate();\n    const { data, error, setError, handleData } = useInput(defaultLoginData);\n    \n    const handleLogin = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n\n        fetch(`http://127.0.0.1:8000/api/cienneffe/login`, {\n            method: 'POST',\n            headers: { 'Content-type': 'application/json' },\n            body: JSON.stringify(data)\n        })\n            .then((resp) => resp.json())\n            .then((data) => {\n                if (data.success) {\n                    login(\n                        data.data.first_name,\n                        data.data.last_name,\n                        data.token,\n                        data.data.id\n                    );\n                    navigate('/');\n                } else {\n                   setError(data.message)\n                }\n            });\n    };\n\n    return (\n        <LoginStyled onSubmit={handleLogin}>\n            <SideHeader />\n            <section className=\"row-form mt-12\">\n                <InputSection className=\"mb-5 flex flex-col\">\n                    <h1>Entra</h1>\n                    <label htmlFor=\"userEmailLogin\" className=\"mb-2\">\n                        Inserisci un Email\n                    </label>\n                    <input\n                        type=\"email\"\n                        id=\"userEmailLogin\"\n                        name=\"email\"\n                        onChange={handleData}\n                    />\n                </InputSection>\n                <InputSection className=\"mb-5 flex flex-col\">\n                    <label htmlFor=\"passwordLogin\" className=\"mb-2\">\n                        Inserisci una Password\n                    </label>\n                    <input\n                        type=\"password\"\n                        id=\"passwordLogin\"\n                        name=\"password\"\n                        onChange={handleData}\n                    />\n                      {error && <span className='text-red-600 py-1 text-sm'>{error}</span>}\n                    <ButtonStyle \n                      type=\"submit\" \n                      disabled={!data.email || !data.password}\n                      >Entra</ButtonStyle>\n                    <Link to=\"/send_email\" className=\"pt-3 text-sm\">\n                        Hai dimenticato la password?\n                    </Link>\n                </InputSection>\n            </section>\n        </LoginStyled>\n    );\n};\n\nexport default Login;\n"],"names":["useContext","ConfigContext","api_urls","backend","login","AuthContext","navigate","useNavigate","useInput","defaultLoginData","data","error","setError","handleData","onSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","resp","json","success","first_name","last_name","token","id","message","className","htmlFor","type","name","onChange","disabled","email","password","to"],"sourceRoot":""}